<html>
  <head>
    <meta name="template" content="specifications" />
  </head>
  <body>
    <div>

      <ul class="breadcrumb">
			  <li><a href="index.html">Home</a> <span class="divider">/</span></li>
        <li><a href="specs/index.html">Specifications</a> <span class="divider">/</span></li>
        <li class="active">CLI</li>
			</ul>

      <header class="jumbotron subhead" id="overview">
        <h1>
          CLI spec 0.1.0
          <small>Nick Featch</small>
        </h1>
        <p class="lead">
          The CLI is the initial interface through which interaction with Silk occurs.
        </p>
      </header>

      <section id="problem-1">
        <div class="page-header">
          <h1>
            Problem 1
            <small>Describes a clone problem we are trying to fix</small>
          </h1>
        </div>

        <p>
          Package and silk-version is hard coded for clone so only works with com.silkyweb version 0.1.0
        </p>
      </section>

      <section id="solution-1">
        <div class="page-header">
          <h1>
            The Solution
            <small>Describes the solution we propose for problem 1</small>
          </h1>
        </div>

        <h3>Packages</h3>
        <p>
         Find projects by their project ID. If multiple exist, in different packages, get the user to pick the package they desired. 
        </p>
        <h3>Silk version</h3>
        <p>
          Try and auto match the locally installed silk version with the current projects silk-version. If an exact match is not found use the closest version but warn the user. If a newer version is found warn the user.
        </p>
        <p>
          Use case 1 - aaaaaaaaaaaaaaaaaa does not exist   
        </p>
<pre>
silk clone-site aaaaaaaaaaaaaaaaaa

Version : 0.1.0
Sorry, no artifact found with that id
</pre>

        <p>
          Use case 2 - default-basic is found in org.silkyweb only and matches the current silk version  
        </p>
<pre>
silk clone-site default-basic  

Version : 0.1.0
Silk site-prototype : default-basic clone complete
</pre>
        <p>
          Use case 3 - default-basic is found in org.silkyweb and com.my-domain  
        </p>
<pre>
silk clone-site default-basic  

Version : 0.1.0

The following packages exist for artifact 'default-basic'
	 1) org.silkyweb
	 2) com.my-domain

Please specify the number of the package you wish to clone: 2
Silk site-prototype : default-basic clone complete
</pre>
        <p>
          Use case 4 - my-site is found in com.my-domain but only for an old silk version. 
        </p>
<pre>
silk clone-site my-site

Version : 0.2.0

WARNING: 'my-site' was constructed with silk version 0.1.0
Do you still wish to clone: Y
Silk site-prototype : my-site clone complete
</pre>
        <p>
          Use case 5 - my-site is found in com.my-domain but my current version of silk is old. 
        </p>
<pre>
silk clone-site my-site

Version : 0.1.0

WARNING: This artifact was built with a new version (0.2.0) of silk than yours. Please get the latest version from http://www.silkyweb.org.
Do you still wish to clone: Y
 1) 0.1.0
 2) 0.2.0
Please select the number which you wish to clone from : 2  

Silk site-prototype : my-site clone complete
</pre>
      </section>

      <section id="problem-2">
        <div class="page-header">
          <h1>
            Problem 2
            <small>Describes an install problem we are trying to fix</small>
          </h1>
        </div>

        <p>
          Installing artifacts is deemed too risky since you could accidentally overwrite an artifact you wish to keep. It puts too much emphasis on the user to ensure the config file is correct.  
        </p>
      </section>

      <section id="solution-2">
        <div class="page-header">
          <h1>
            The Solution
            <small>Describes the solution we propose for problem 2</small>
          </h1>
        </div>

        <p>If a locally installed artifact has a matching package and id. Prompts should be displayed, for each, to ensure the config file has been correctly maintained. Changes will update the config before installing.</p>

        <p>
          Use case 1 - user is installing a new site with unique package + id
        </p>
<pre>
silk install-site

Version : 0.1.0-SNAPSHOT
package is : org.mycompany
silk version is : 0.1.0
Silk site-prototype : new-project install complete
</pre>

        <p>
          Use case 2 - user installs a site they cloned from default-basic and did not change the config file
        </p>
<pre>
silk install-site

Version : 0.1.0-SNAPSHOT
[WARNING] This will overwrite a local Silk site. You may wish to change the following values.
[WARNING] Package: com.silkyweb      ---- user changes to 'com.mycompany' and hits enter
[WARNING] ID: default-clone          ---- user changes to 'new-project' and hits enter
[WARNING] Description: A default ... ---- User changes to 'some description' and hits enter

You entered the following details
Package: com.mycompany
ID: new-projects
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'Y' and hits enter

package is : org.mycompany
silk version is : 0.1.0
Silk site-prototype : new-project install complete
</pre>

        <p>
          Use case 3 - user installs a site they cloned from (same as user case 2) but makes a mistake
        </p>
<pre>
silk install-site

Version : 0.1.0-SNAPSHOT
[WARNING] This will overwrite a local Silk site. You may wish to change the following values.
[WARNING] Package: com.silkyweb      ---- user changes to 'com.mycompany' and hits enter
[WARNING] ID: default-clone          ---- user changes to 'new-pr' and hits enter
[WARNING] Description: A default ... ---- User changes to 'some description' and hits enter

You entered the following details
Package: com.mycompany
ID: new-pr
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'N' and hits enter

Please amend the following details
[WARNING] Package: com.mycompany     ---- user leaves as is and hits enter
[WARNING] ID: new-pr                 ---- user changes to 'new-project' and hits enter
[WARNING] Description: A default ... ---- User leaves as is and hits enter

You entered the following details
Package: com.mycompany
ID: new-project
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'Y' and hits enter

package is : org.mycompany
silk version is : 0.1.0
Silk site-prototype : new-project install complete
</pre>

        <p>
          User case 4 - user modifies a local Silk site and wishes to keep config settings the same
        </p>
<pre>
silk install-site

Version : 0.1.0-SNAPSHOT
[WARNING] This will overwrite a local Silk site. You may wish to change the following values.
[WARNING] Package: com.mycompany        ---- user leaves as is and hits enter
[WARNING] ID: new-project               ---- user leaves as is and hits enter
[WARNING] Description: some description ---- User leaves as is and hits enter

You entered the following details
Package: com.mycompany
ID: new-project
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'Y' and hits enter

package is : org.mycompany
silk version is : 0.1.0
Silk site-prototype : new-project install complete
</pre>

        <p>
          User case 5 - user wishes to rename the site but picks an existing project
        </p>
<pre>
silk install-site

Version : 0.1.0-SNAPSHOT
[WARNING] This will overwrite a local Silk site. You may wish to change the following values.
[WARNING] Package: com.mycompany        ---- user enters 'org.silkyweb' and hits enter
[WARNING] ID: new-project               ---- user enters 'default-basic' and hits enter
[WARNING] Description: some description ---- user leaves as is and hits enter

You entered the following details
Package: org.silkyweb
ID: default-basic
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'N' and hits enter

[WARNING] This will overwrite a local Silk site. You may wish to change the following values.
[WARNING] Package: org.silkyweb         ---- user enters 'com.mycompany' and hits enter
[WARNING] ID: default-basic             ---- user enters 'renamed-project' and hits enter
[WARNING] Description: some description ---- user leaves as is and hits enter

You entered the following details
Package: com.mycompany
ID: renamed-project
Description: some description

Do wish to clone with these details(Y/N):   ---- user enters 'Y' and hits enter

package is : org.mycompany
silk version is : 0.1.0
Silk site-prototype : renamed-project install complete
</pre>
      </section>
    </div>
  </body>
</html>
